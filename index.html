<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>TON Monitoring</title>
    <meta name="description" content="Все самые интересные новости экосистемы TON. TON’t Worry, We’re Watching. Keep Calm and TON" />
    <meta name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=1.0, initial-scale=1.0" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="canonical" href="https://tonmonitoring.com/" />
    <style>
      body{
        max-width: 100vw;
        min-height: 100dvh;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 10px;
      }
      header {
        width: fit-content;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      .logo {
        width: 80%;
        margin: 8px 0 0 0;
      }
      h1 {
        margin: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-family: Montserrat;
      }
      footer {
        width: 100%;
        margin-top: auto;
      }
      .footer-txt {
        margin: 8px 4px -8px;
      }
    </style>
  </head>
  <body>
    <header>
      <img src="/img/logo.svg" alt="TON Monitoring" class="logo">
      <h1>TON MONITORING</h1>
    </header>

    <main>
      <div id="telegram-feed">
        <!-- Посты будут загружены сюда -->
      </div>
    </main>

    <footer>
      <img src="/img/tm-name.svg" alt="TON Monitoring" class="footer-txt">
    </footer>

    <script>
document.addEventListener("DOMContentLoaded", function() {
    // Загружаем файл posts.json
    fetch('posts.json')
        .then(response => response.json())
        .then(data => {
            const feedContainer = document.getElementById('telegram-feed');
            
            // Проверяем, что ответ от API успешный
            if (data.ok) {
                // Проходим по каждому сообщению
                data.result.messages.forEach(message => {
                    // Создаем HTML-элемент для поста
                    const postElement = document.createElement('div');
                    postElement.className = 'post';
                    
                    // Добавляем текст сообщения
                    if (message.text) {
                        const textElement = document.createElement('p');
                        textElement.innerText = message.text;
                        postElement.appendChild(textElement);
                    }

                    // Можно добавить обработку фото, видео и т.д.
                    
                    // Добавляем пост на страницу
                    feedContainer.appendChild(postElement);
                });
            }
        })
        .catch(error => console.error('Ошибка загрузки постов:', error));
});
    </script>
  </body>
</html>